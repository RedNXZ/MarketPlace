<h1 class="text-3xl font-bold mb-6">Каталог товаров</h1>

<nav class="mb-6 text-sm text-gray-700 font-medium">
  <span class="mr-2">Категории:</span>
  <%= link_to "Все", products_path, class: "text-blue-600 hover:underline mr-2" %>
  <% Category.all.each do |category| %>
    <%= link_to category.name, products_path(category_id: category.id), class: "text-blue-600 hover:underline mr-2" %>
  <% end %>
</nav>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
  <% @products.each do |product| %>
    <div class="bg-white border border-gray-200 rounded-lg p-5 shadow-sm hover:shadow-md transition">
      <h2 class="text-xl font-semibold mb-2 text-blue-600 hover:underline">
        <%= link_to product.name, product_path(product) %>
      </h2>
      <p class="text-gray-600 mb-4"><%= truncate(product.description, length: 100) %></p>
      <p class="font-semibold mb-4">Цена: <%= number_to_currency(product.price, unit: "₽") %></p>
      <%= button_to "В корзину", add_to_cart_path(product), method: :post, class: "w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition" %>
    </div>
  <% end %>
</div>
